(function(){"use strict";function Ee(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}var le={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var ve=le.exports,de;function ke(){return de||(de=1,(function(D,M){((z,f)=>{D.exports=f()})(ve,function z(){var f=typeof self<"u"?self:typeof window<"u"?window:f!==void 0?f:{},w,K=!f.document&&!!f.postMessage,Q=f.IS_PAPA_WORKER||!1,H={},ae=0,a={};function C(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var r=fe(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new re(r),(this._handle.streamer=this)._config=r}).call(this,e),this.parseChunk=function(t,r){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let c=this._config.newline;c||(n=this._config.quoteChar||'"',c=this._handle.guessLineEndings(t,n)),t=[...t.split(c).slice(i)].join(c)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(n=this._config.beforeFirstChunk(t))!==void 0&&(t=n),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,n=(this._partialLine="",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=n.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),n&&n.data&&(this._rowCount+=n.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),Q)f.postMessage({results:n,workerId:a.WORKER_ID,finished:i});else if(E(this._config.chunk)&&!r){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=n=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!i||!E(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(t){E(this._config.error)?this._config.error(t):Q&&this._config.error&&f.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function j(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),C.call(this,e),this._nextChunk=K?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),K||(t.onload=ee(this._chunkLoaded,this),t.onerror=ee(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!K),this._config.downloadRequestHeaders){var r,i=this._config.downloadRequestHeaders;for(r in i)t.setRequestHeader(r,i[r])}var n;this._config.chunkSize&&(n=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+n));try{t.send(this._config.downloadRequestBody)}catch(c){this._chunkError(c.message)}K&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function q(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),C.call(this,e);var t,r,i=typeof FileReader<"u";this.stream=function(n){this._input=n,r=n.slice||n.webkitSlice||n.mozSlice,i?((t=new FileReader).onload=ee(this._chunkLoaded,this),t.onerror=ee(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var n=this._input,c=(this._config.chunkSize&&(c=Math.min(this._start+this._config.chunkSize,this._input.size),n=r.call(n,this._start,c)),t.readAsText(n,this._config.encoding));i||this._chunkLoaded({target:{result:c}})},this._chunkLoaded=function(n){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(n.target.result)},this._chunkError=function(){this._sendError(t.error)}}function U(e){var t;C.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,i;if(!this._finished)return r=this._config.chunkSize,t=r?(i=t.substring(0,r),t.substring(r)):(i=t,""),this._finished=!t,this.parseChunk(i)}}function J(e){C.call(this,e=e||{});var t=[],r=!0,i=!1;this.pause=function(){C.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){C.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(n){this._input=n,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=ee(function(n){try{t.push(typeof n=="string"?n:n.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(c){this._streamError(c)}},this),this._streamError=ee(function(n){this._streamCleanUp(),this._sendError(n)},this),this._streamEnd=ee(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function re(e){var t,r,i,n,c=Math.pow(2,53),x=-c,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,b=0,o=0,F=!1,h=!1,p=[],s={data:[],errors:[],meta:{}};function I(g){return e.skipEmptyLines==="greedy"?g.join("").trim()==="":g.length===1&&g[0].length===0}function O(){if(s&&i&&(W("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(s.data=s.data.filter(function(u){return!I(u)})),A()){let u=function(S,L){E(e.transformHeader)&&(S=e.transformHeader(S,L)),p.push(S)};if(s)if(Array.isArray(s.data[0])){for(var g=0;A()&&g<s.data.length;g++)s.data[g].forEach(u);s.data.splice(0,1)}else s.data.forEach(u)}function m(u,S){for(var L=e.header?{}:[],y=0;y<u.length;y++){var v=y,_=u[y],_=((G,l)=>(k=>(e.dynamicTypingFunction&&e.dynamicTyping[k]===void 0&&(e.dynamicTyping[k]=e.dynamicTypingFunction(k)),(e.dynamicTyping[k]||e.dynamicTyping)===!0))(G)?l==="true"||l==="TRUE"||l!=="false"&&l!=="FALSE"&&((k=>{if($.test(k)&&(k=parseFloat(k),x<k&&k<c))return 1})(l)?parseFloat(l):B.test(l)?new Date(l):l===""?null:l):l)(v=e.header?y>=p.length?"__parsed_extra":p[y]:v,_=e.transform?e.transform(_,v):_);v==="__parsed_extra"?(L[v]=L[v]||[],L[v].push(_)):L[v]=_}return e.header&&(y>p.length?W("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+y,o+S):y<p.length&&W("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+y,o+S)),L}var R;s&&(e.header||e.dynamicTyping||e.transform)&&(R=1,!s.data.length||Array.isArray(s.data[0])?(s.data=s.data.map(m),R=s.data.length):s.data=m(s.data,0),e.header&&s.meta&&(s.meta.fields=p),o+=R)}function A(){return e.header&&p.length===0}function W(g,m,R,u){g={type:g,code:m,message:R},u!==void 0&&(g.row=u),s.errors.push(g)}E(e.step)&&(n=e.step,e.step=function(g){s=g,A()?O():(O(),s.data.length!==0&&(b+=g.data.length,e.preview&&b>e.preview?r.abort():(s.data=s.data[0],n(s,d))))}),this.parse=function(g,m,R){var u=e.quoteChar||'"',u=(e.newline||(e.newline=this.guessLineEndings(g,u)),i=!1,e.delimiter?E(e.delimiter)&&(e.delimiter=e.delimiter(g),s.meta.delimiter=e.delimiter):((u=((S,L,y,v,_)=>{var G,l,k,te;_=_||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var ie=0;ie<_.length;ie++){for(var V,ue=_[ie],P=0,Z=0,T=0,N=(k=void 0,new oe({comments:v,delimiter:ue,newline:L,preview:10}).parse(S)),X=0;X<N.data.length;X++)y&&I(N.data[X])?T++:(V=N.data[X].length,Z+=V,k===void 0?k=V:0<V&&(P+=Math.abs(V-k),k=V));0<N.data.length&&(Z/=N.data.length-T),(l===void 0||P<=l)&&(te===void 0||te<Z)&&1.99<Z&&(l=P,G=ue,te=Z)}return{successful:!!(e.delimiter=G),bestDelimiter:G}})(g,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=u.bestDelimiter:(i=!0,e.delimiter=a.DefaultDelimiter),s.meta.delimiter=e.delimiter),fe(e));return e.preview&&e.header&&u.preview++,t=g,r=new oe(u),s=r.parse(t,m,R),O(),F?{meta:{paused:!0}}:s||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,r.abort(),t=E(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){d.streamer._halted?(F=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,r.abort(),s.meta.aborted=!0,E(e.complete)&&e.complete(s),t=""},this.guessLineEndings=function(S,u){S=S.substring(0,1048576);var u=new RegExp(ne(u)+"([^]*?)"+ne(u),"gm"),R=(S=S.replace(u,"")).split("\r"),u=S.split(`
`),S=1<u.length&&u[0].length<R[0].length;if(R.length===1||S)return`
`;for(var L=0,y=0;y<R.length;y++)R[y][0]===`
`&&L++;return L>=R.length/2?`\r
`:"\r"}}function ne(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oe(e){var t=(e=e||{}).delimiter,r=e.newline,i=e.comments,n=e.step,c=e.preview,x=e.fastMode,$=null,B=!1,d=e.quoteChar==null?'"':e.quoteChar,b=d;if(e.escapeChar!==void 0&&(b=e.escapeChar),(typeof t!="string"||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),i===t)throw new Error("Comment character same as delimiter");i===!0?i="#":(typeof i!="string"||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var o=0,F=!1;this.parse=function(h,p,s){if(typeof h!="string")throw new Error("Input must be a string");var I=h.length,O=t.length,A=r.length,W=i.length,g=E(n),m=[],R=[],u=[],S=o=0;if(!h)return P();if(x||x!==!1&&h.indexOf(d)===-1){for(var L=h.split(r),y=0;y<L.length;y++){if(u=L[y],o+=u.length,y!==L.length-1)o+=r.length;else if(s)return P();if(!i||u.substring(0,W)!==i){if(g){if(m=[],te(u.split(t)),Z(),F)return P()}else te(u.split(t));if(c&&c<=y)return m=m.slice(0,c),P(!0)}}return P()}for(var v=h.indexOf(t,o),_=h.indexOf(r,o),G=new RegExp(ne(b)+ne(d),"g"),l=h.indexOf(d,o);;)if(h[o]===d)for(l=o,o++;;){if((l=h.indexOf(d,l+1))===-1)return s||R.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:m.length,index:o}),V();if(l===I-1)return V(h.substring(o,l).replace(G,d));if(d===b&&h[l+1]===b)l++;else if(d===b||l===0||h[l-1]!==b){v!==-1&&v<l+1&&(v=h.indexOf(t,l+1));var k=ie((_=_!==-1&&_<l+1?h.indexOf(r,l+1):_)===-1?v:Math.min(v,_));if(h.substr(l+1+k,O)===t){u.push(h.substring(o,l).replace(G,d)),h[o=l+1+k+O]!==d&&(l=h.indexOf(d,o)),v=h.indexOf(t,o),_=h.indexOf(r,o);break}if(k=ie(_),h.substring(l+1+k,l+1+k+A)===r){if(u.push(h.substring(o,l).replace(G,d)),ue(l+1+k+A),v=h.indexOf(t,o),l=h.indexOf(d,o),g&&(Z(),F))return P();if(c&&m.length>=c)return P(!0);break}R.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:m.length,index:o}),l++}}else if(i&&u.length===0&&h.substring(o,o+W)===i){if(_===-1)return P();o=_+A,_=h.indexOf(r,o),v=h.indexOf(t,o)}else if(v!==-1&&(v<_||_===-1))u.push(h.substring(o,v)),o=v+O,v=h.indexOf(t,o);else{if(_===-1)break;if(u.push(h.substring(o,_)),ue(_+A),g&&(Z(),F))return P();if(c&&m.length>=c)return P(!0)}return V();function te(T){m.push(T),S=o}function ie(T){var N=0;return N=T!==-1&&(T=h.substring(l+1,T))&&T.trim()===""?T.length:N}function V(T){return s||(T===void 0&&(T=h.substring(o)),u.push(T),o=I,te(u),g&&Z()),P()}function ue(T){o=T,te(u),u=[],_=h.indexOf(r,o)}function P(T){if(e.header&&!p&&m.length&&!B){var N=m[0],X=Object.create(null),ce=new Set(N);let me=!1;for(let se=0;se<N.length;se++){let Y=N[se];if(X[Y=E(e.transformHeader)?e.transformHeader(Y,se):Y]){let he,ye=X[Y];for(;he=Y+"_"+ye,ye++,ce.has(he););ce.add(he),N[se]=he,X[Y]++,me=!0,($=$===null?{}:$)[he]=Y}else X[Y]=1,N[se]=Y;ce.add(Y)}me&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:m,errors:R,meta:{delimiter:t,linebreak:r,aborted:F,truncated:!!T,cursor:S+(p||0),renamedHeaders:$}}}function Z(){n(P()),m=[],R=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return o}}function Ce(e){var t=e.data,r=H[t.workerId],i=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){i=!0,ge(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(E(r.userStep)){for(var c=0;c<t.results.data.length&&(r.userStep({data:t.results.data[c],errors:t.results.errors,meta:t.results.meta},n),!i);c++);delete t.results}else E(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!i&&ge(t.workerId,t.results)}function ge(e,t){var r=H[e];E(r.userComplete)&&r.userComplete(t),r.terminate(),delete H[e]}function _e(){throw new Error("Not implemented.")}function fe(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=fe(e[t]);return r}function ee(e,t){return function(){e.apply(t,arguments)}}function E(e){return typeof e=="function"}return a.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(E(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!E(t.transform)&&t.transform,!t.worker||!a.WORKERS_SUPPORTED)return r=null,a.NODE_STREAM_INPUT,typeof e=="string"?(e=(i=>i.charCodeAt(0)!==65279?i:i.slice(1))(e),r=new(t.download?j:U)(t)):e.readable===!0&&E(e.read)&&E(e.on)?r=new J(t):(f.File&&e instanceof File||e instanceof Object)&&(r=new q(t)),r.stream(e);(r=(()=>{var i;return!!a.WORKERS_SUPPORTED&&(i=(()=>{var n=f.URL||f.webkitURL||null,c=z.toString();return a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",c,")();"],{type:"text/javascript"})))})(),(i=new f.Worker(i)).onmessage=Ce,i.id=ae++,H[i.id]=i)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=E(t.step),t.chunk=E(t.chunk),t.complete=E(t.complete),t.error=E(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},a.unparse=function(e,t){var r=!1,i=!0,n=",",c=`\r
`,x='"',$=x+x,B=!1,d=null,b=!1,o=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||a.BAD_DELIMITERS.filter(function(p){return t.delimiter.indexOf(p)!==-1}).length||(n=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(B=t.skipEmptyLines),typeof t.newline=="string"&&(c=t.newline),typeof t.quoteChar=="string"&&(x=t.quoteChar),typeof t.header=="boolean"&&(i=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");d=t.columns}t.escapeChar!==void 0&&($=t.escapeChar+x),t.escapeFormulae instanceof RegExp?b=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(b=/^[=+\-@\t\r].*$/)}})(),new RegExp(ne(x),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return F(null,e,B);if(typeof e[0]=="object")return F(d||Object.keys(e[0]),e,B)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),F(e.fields||[],e.data||[],B);throw new Error("Unable to serialize unrecognized input");function F(p,s,I){var O="",A=(typeof p=="string"&&(p=JSON.parse(p)),typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(p)&&0<p.length),W=!Array.isArray(s[0]);if(A&&i){for(var g=0;g<p.length;g++)0<g&&(O+=n),O+=h(p[g],g);0<s.length&&(O+=c)}for(var m=0;m<s.length;m++){var R=(A?p:s[m]).length,u=!1,S=A?Object.keys(s[m]).length===0:s[m].length===0;if(I&&!A&&(u=I==="greedy"?s[m].join("").trim()==="":s[m].length===1&&s[m][0].length===0),I==="greedy"&&A){for(var L=[],y=0;y<R;y++){var v=W?p[y]:y;L.push(s[m][v])}u=L.join("").trim()===""}if(!u){for(var _=0;_<R;_++){0<_&&!S&&(O+=n);var G=A&&W?p[_]:_;O+=h(s[m][G],_)}m<s.length-1&&(!I||0<R&&!S)&&(O+=c)}}return O}function h(p,s){var I,O;return p==null?"":p.constructor===Date?JSON.stringify(p).slice(1,25):(O=!1,b&&typeof p=="string"&&b.test(p)&&(p="'"+p,O=!0),I=p.toString().replace(o,$),(O=O||r===!0||typeof r=="function"&&r(p,s)||Array.isArray(r)&&r[s]||((A,W)=>{for(var g=0;g<W.length;g++)if(-1<A.indexOf(W[g]))return!0;return!1})(I,a.BAD_DELIMITERS)||-1<I.indexOf(n)||I.charAt(0)===" "||I.charAt(I.length-1)===" ")?x+I+x:I)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!K&&!!f.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=oe,a.ParserHandle=re,a.NetworkStreamer=j,a.FileStreamer=q,a.StringStreamer=U,a.ReadableStreamStreamer=J,f.jQuery&&((w=f.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(c){if(!(w(this).prop("tagName").toUpperCase()==="INPUT"&&w(this).attr("type").toLowerCase()==="file"&&f.FileReader)||!this.files||this.files.length===0)return!0;for(var x=0;x<this.files.length;x++)r.push({file:this.files[x],inputElem:this,instanceConfig:w.extend({},t)})}),i(),this;function i(){if(r.length===0)E(e.complete)&&e.complete();else{var c,x,$,B,d=r[0];if(E(e.before)){var b=e.before(d.file,d.inputElem);if(typeof b=="object"){if(b.action==="abort")return c="AbortError",x=d.file,$=d.inputElem,B=b.reason,void(E(e.error)&&e.error({name:c},x,$,B));if(b.action==="skip")return void n();typeof b.config=="object"&&(d.instanceConfig=w.extend(d.instanceConfig,b.config))}else if(b==="skip")return void n()}var o=d.instanceConfig.complete;d.instanceConfig.complete=function(F){E(o)&&o(F,d.file,d.inputElem),n()},a.parse(d.file,d.instanceConfig)}}function n(){r.splice(0,1),i()}}),Q&&(f.onmessage=function(e){e=e.data,a.WORKER_ID===void 0&&e&&(a.WORKER_ID=e.workerId),typeof e.input=="string"?f.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(f.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&f.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(j.prototype=Object.create(C.prototype)).constructor=j,(q.prototype=Object.create(C.prototype)).constructor=q,(U.prototype=Object.create(U.prototype)).constructor=U,(J.prototype=Object.create(C.prototype)).constructor=J,a})})(le)),le.exports}var we=ke(),be=Ee(we);const pe=D=>{const M=be.parse(D.trim(),{header:!0,dynamicTyping:!0,skipEmptyLines:!0});if(M.errors.length>0)throw console.warn("CSV parsing errors:",M.errors),new Error(`Error parsing CSV: ${M.errors[0].message} on row ${M.errors[0].row}`);return M.data},Re=D=>{const M=D.trim().split(`
`),z={},f=M[0].toLowerCase().startsWith("stat,value")?1:0;for(let w=f;w<M.length;w++){const K=M[w].trim();if(!K)continue;const Q=K.match(/^"?([^",]+)"?,(.+)$/);if(Q){const H=Q[1].trim(),ae=Q[2].trim().replace(/^"|"$/g,"");z[H]=ae}}return z},Se=D=>{if(D.length===0)return[];const M=D[0],z=[];return Object.keys(M).forEach(f=>{if(f!=="TIMESTAMP"&&f!=="SPLINE.DISTANCE"&&f!=="SPLINE.PERCENTAGE"&&f!=="BURST_LOGGING_STATUS"){let w=f.includes("USAGE")||f.includes("PERCENTAGE")||f.includes("PERCENT");f.startsWith("FPS.")&&f.includes("PERCENTILE")&&(w=!1),z.push({key:f,label:f.replace(/\./g," "),isPercentage:w})}}),z};self.onmessage=async D=>{const{files:M,sessionId:z,sessionName:f}=D.data,w={staticData:null,maps:{}},K=[],Q=[];let H=0;for(const a of M)try{const C=await a.text(),j=a.name,q=j.toLowerCase();if(q.includes("staticdata"))w.staticData=Re(C),H++;else if(q.includes("performancelog")){const U=j.match(/^(.+?)-PerformanceLog\.csv$/i),J=U?U[1]:"UnknownMap";w.maps[J]||(w.maps[J]=[]);const re=pe(C),ne=Se(re),oe={id:`${z}-${j}`,sessionId:z,name:j.replace(/-PerformanceLog\.csv$/i,""),performanceLogs:re,events:[],availableMetrics:ne};w.maps[J].push(oe),H++}else if(q.includes("events")){const U=j.match(/^(.+?)-Events\.csv$/i),J=U?U[1]:null,re=pe(C);H++,K.push({mapName:J,events:re})}}catch(C){console.error(`Error processing file ${a.name}:`,C),Q.push({file:a.name,error:C.message||"Unknown error"})}for(const a of K){const{mapName:C,events:j}=a;C&&w.maps[C]?w.maps[C].forEach(q=>{q.events.push(...j)}):(console.warn(`[DEBUG 2/6] Event file had no map name. Associating ${j.length} events with ALL maps.`),Object.values(w.maps).forEach(q=>{q.forEach(U=>U.events.push(...j))}))}const ae={sessionId:z,sessionName:f,staticData:w.staticData,maps:w.maps};self.postMessage({benchmarkSession:ae,filesProcessedCount:H,totalFiles:M.length,errors:Q})}})();
